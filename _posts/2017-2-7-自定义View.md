---
layout: post
title: "自定义View"
date: 2017-2-7
excerpt: "自定义View"
tags: Android
comments: true
---

# 自定义View

## 为什么要使用自定义View
1. 当系统提供的View不能满足开发的需求，此时就需要自定义View
2. 特定的显示风格
3. 处理一些特殊的用户交互
4. 优化布局
5. 代码的封装

## 自定义View的分类
1. 完全自定义的View
	- 继承View类，重写相关的方法，绘制控件
	- 使用步骤
		1. 定义一个类，继承View，重写构造方法
			
			```
			/**
		     * 在代码中生成控件时使用
		     * 如TextView text = new TextView(context);
		     * 该构造方法为必须要定义的构造方法，目的是在java代码中可以创建自定义View的对象
		     *
		     * @param context 上下文对象
		     */
		    public CustomView01(Context context) {
		        super(context);
		    }
		
		    /**
		     * 在布局页面中添加自定义View需要调用的方法
		     * 注意：如果自定义View需要显示在布局页面中，则必须要重写该构造方法
		     *
		     * @param context 上下文对象
		     * @param attrs   自定义属性的集合
		     */
		    public CustomView01(Context context, AttributeSet attrs) {
		        super(context, attrs);
		    }
		
		    /**
		     * 在布局页面中使用
		     *
		     * @param context      上下文对象
		     * @param attrs        自定义属性的集合
		     * @param defStyleAttr 默认自定义的样式风格
		     */
		    public CustomView01(Context context, AttributeSet attrs, int defStyleAttr) {
		        super(context, attrs, defStyleAttr);
		    }
			```
			
		2. 重写``onMeasure()``、``onDraw()``
2. 继承已有的UI控件
	- 继承已有的UI控件，在已有的控件上拓展新的功能
3. 组合定义的View组件
	- 继承ViewGroup或者其子类，目的是把多个小的组件组合成一个大的View组件

